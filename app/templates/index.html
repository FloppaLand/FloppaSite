{% extends "base.html" %}
{% block content %}
    <div class="mainflex">
      <div class="main1">
        <a class="main1_logo_a" href="#">
          <img class="main1_logo" src="{{ url_for('static', filename='logo/FloppaLandLogo.png') }}" alt="logo">
        </a>
        <div class="main1_description">
          <a>Самый разнообразный <br></a>
          <a><a class="main1_actcent">технический</a> и <a class="main1_actcent2">магический</a> Minecraft сервер.</a>
        </div>
        <div class="main1_download_div">
          <a class="main1_download" href="http://launcher.floppaland.fun/FloppaLauncher.exe" >
            <svg class="main1_download_icon" fill="#FFFFFF" width="45px" height="45px" viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg">
              <path d="M1863.53 1016.437c31.171 0 56.47 25.299 56.47 56.47v790.589c0 16.376-7.115 31.849-19.313 42.465-10.39 9.149-23.605 14.005-37.158 14.005-2.484 0-5.082-.113-7.567-.452l-903.53-123.331c-28.008-3.84-48.903-27.784-48.903-56.02v-667.256c0-31.171 25.3-56.47 56.471-56.47Zm-1129.412 0c31.171 0 56.47 25.299 56.47 56.47v634.504c0 16.376-7.115 31.85-19.426 42.579-10.39 9.035-23.491 13.891-37.044 13.891-2.485 0-5.196-.113-7.68-.564L48.79 1669.35C20.78 1665.51 0 1641.68 0 1613.444v-540.537c0-31.171 25.299-56.47 56.47-56.47Zm-7.726-859.855c16.151-2.372 32.415 2.597 44.725 13.327 12.424 10.73 19.426 26.315 19.426 42.579V846.99c0 31.285-25.186 56.47-56.47 56.47H56.424c-31.171 0-56.47-25.185-56.47-56.47V306.455c0-28.123 20.781-52.066 48.79-55.906ZM1855.974.474c16.15-2.033 32.414 2.71 44.724 13.44 12.198 10.73 19.313 26.203 19.313 42.466v790.588c0 31.285-25.299 56.471-56.47 56.471H960.01c-31.171 0-56.47-25.186-56.47-56.47V179.711c0-28.235 20.78-52.066 48.903-55.906Z" fill-rule="evenodd"/>
            </svg>
            <span class="main1_download_text1">Скачать Лаунчер</span>
          </a>
          <a href="http://launcher.floppaland.fun/FloppaLauncher.jar" class="main1_download_jar">
            jar (linux, mac os ...)
          </a>
        </div>
        <a href="#more" class="scroll">
          <img alt="downarrow" class="main1_downarrow" src="{{ url_for('static', filename='images/downarrow.png') }}">
        </a>
        <script>
          const scrollLinks = document.querySelectorAll('.scroll');
          scrollLinks.forEach(function(link) {
            link.addEventListener('click', function(event) {
              event.preventDefault();
              const target = document.querySelector(link.getAttribute('href'));
              const offsetTop = target.offsetTop;
              window.scrollTo({
                top: offsetTop,
                behavior: 'smooth'
              });
            });
          });
        </script>
      </div>
      <div id="more"></div>
      <div class="main2">
        <a class="headline"></a>
        <div class="main2_features_div">
          <div class="main2_feature low">
            <img class="main2_feature_img_low" alt="Feature Image" src="/static/launcher.png">
            <a class="main2_feature_headline">Свой лаунчер</a>
          </div>
          <div class="main2_feature low">
            <img class="main2_feature_img_low" alt="Feature Image" src="/static/clockwork.png">
            <a class="main2_feature_headline">Голосовой чат</a>
          </div>
          <div class="main2_feature low">
            <img class="main2_feature_img_low" alt="Feature Image" src="/static/items.png">
            <a class="main2_feature_headline">Кастомные предметы</a>
          </div>
          <div class="main2_feature low">
            <img class="main2_feature_img_low" alt="Feature Image" src="{{ url_for('random_floppa') }}">
            <a class="main2_feature_headline">Шлёпа!</a>
          </div>
        </div>
      </div>
      <div id="mods"></div>
      <div class="main2">
        <a class="headline">Основные моды</a>
        <div class="main2_features_div">
          <div class="main2_feature">
            <img class="main2_feature_img" alt="Feature Image" src="/static/create.jpg">
            <a class="main2_feature_headline">Create</a>
            <a class="main2_feature_text">Позволяет строить потрясающие механизмы, заводы, фермы на вращательной энергии</a>
          </div>
          <div class="main2_feature">
            <img class="main2_feature_img" alt="Feature Image" src="media/placeholder.png">
            <a class="main2_feature_headline">Immersive Enginering</a>
            <a class="main2_feature_text"></a>
          </div>
          <div class="main2_feature">
            <img class="main2_feature_img" alt="Feature Image" src="media/placeholder.png">
            <a class="main2_feature_headline">Mekanism</a>
            <a class="main2_feature_text">Один из главных технических модов на сервере. Джетпаки, генераторы, реакторы, x5 руды, и многе другое. </a>
          </div>
          <div class="main2_feature">
            <img class="main2_feature_img" alt="Feature Image" src="/static/appliedenergistics.png">
            <a class="main2_feature_headline">Applied Energistics 2</a>
            <a class="main2_feature_text">Удобная система хранения ваших ресурсов, да ещё и с автокрафтом.</a>
          </div>
          <div class="main2_feature">
            <img class="main2_feature_img" alt="Feature Image" src="/static/appliedenergistics.png">
            <a class="main2_feature_headline">Refined Storage</a>
            <a class="main2_feature_text">Похож на applied, но дешевле.</a>
          </div>
          <div class="main2_feature">
            <img class="main2_feature_img" alt="Feature Image" src="/static/megumin.png">
            <a class="main2_feature_headline">Mahou Tsukai</a>
            <a class="main2_feature_text">Единственный мод на заклинания на этой сборке</a>
          </div>
        </div>
      </div>
      
      <div id="discord"></div>
      <div class="main4">
        <a class="headline">Заходи к нам в Дискорд</a>
        <div class="main4_dc_div">
          <iframe class="main4_dc_widget" src="https://discord.com/widget?id=959163119517716511&theme=dark" width="350" height="500" title="discord" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe>
          <div class="main4_dc_description_div">
            <a class="main4_dc_description_title">Let's talk!</a>
            <a class="main4_dc_description"> ・Много крутых людей <br> ・Мемы <br> ・Поддержка <br> ・Новости  <br><br> И многое другое </a>
            <a href="https://discord.com/invite/uHJxq9Yzgw" class="main4_dc_button_a">
              <div class="main4_dc_button">Join</div>
            </a>
          </div>
        </div>
      </div>
      <div id="other_games"></div>
      <div class="main5">
        <a class="headline">Другие игры</a>
        <div class="main5_admin_div">
          <div class="main5_admins_div main5_admins_dev_type2">
            <img class="main5_admins_img" alt="admin member img" src="/static/zizazr.png">
            <div class="main5_admins_description_div">
              <a class="main5_admins_description_rank main5_admins_description_rank_owner">[Админ]</a>
              <a class="main5_admins_description_title" href="https://youtu.be/dQw4w9WgXcQ?si=sBrkqwYpl7W6wwgZ">Zizazr</a>
              <a class="main5_admins_description">Админ<br><i></i></a>
            </div>
          </div>
        </div>
        <div class="main5_supporter_div">
          <div class="main5_supporters_div">
            <img class="main5_supporters_img" alt="supporters member img" src="/static/wanady.png">
            <div class="main5_supporters_description_div">
              <a class="main5_supporters_description_rank main5_supporters_description_rank_supporter">[Игрок]</a>
              <a class="main5_supporters_description_title">Wanadiy</a>
              <a class="main5_supporters_description">Спидранер<br><i>Разбирается в технических модах. Прошёл множество хардкорных сборок таких как: DDSS, TFC, Antimater Alchemistry</i></a>
            </div>
          </div>
          <div class="main5_supporters_div">
            <img class="main5_supporters_img" alt="supporters member img" src="/static/ninibud74.png">
            <div class="main5_supporters_description_div">
              <a class="main5_supporters_description_rank main5_supporters_description_rank_supporter">[Игрок]</a>
              <a class="main5_supporters_description_title">ninibud74</a>
              <a class="main5_supporters_description">Инжинир<br><i>Обожает Immersive Enginering: ставит высоковольтные лэп по всей базе, делает сталь только из этого мода...</i></a>
            </div>
          </div>
          <div class="main5_supporters_div">
            <img class="main5_supporters_img" alt="supporters member img" src="/static/gribus.png">
            <div class="main5_supporters_description_div">
              <a class="main5_supporters_description_rank main5_supporters_description_rank_supporter">[Игрок]</a>
              <a class="main5_supporters_description_title">Gribabus</a>
              <a class="main5_supporters_description">Этилен<br><i>Положил сервер ведром этилена из Mekanism во время второго сезона</i></a>
            </div>
          </div>
          <div class="main5_supporters_div">
            <img class="main5_supporters_img" alt="supporters member img" src="/static/_t_e_n_d_.png">
            <div class="main5_supporters_description_div">
              <a class="main5_supporters_description_rank main5_supporters_description_rank_supporter">[Игрок]</a>
              <a class="main5_supporters_description_title">_t_e_n_d_</a>
              <a class="main5_supporters_description">Мемодел<br><i>Создаёт мемы, может откопать почти всё. Главный тестер 3 сезона</i></a>
            </div>
          </div>
        </div>
      </div>
      <div id="join"></div>
      <div class="main3">
        <a class="headline">Как зайти</a>
        <div class="main3_join_div_div">
          <ol>
            <li class="main3_join_li"><span>Зарегистрируйте аккаунт </span><a href="/register">[Здесь]</a></li>
            <li class="main3_join_li">Скачайте лаунчер</li>
            <li class="main3_join_li">В лаунчере зайдите в свой аккаунт</li>
            <li class="main3_join_li">Выделите оперативную память в настройках</li>
            <li class="main3_join_li">Так-же можете изменить опциональные моды</li>
          </ol>
        </div>
      </div>
      <div id="server_status"></div>
      <div class="main6">
        <a class="headline">Статус сервера</a>
        <div class="main6_server_status_div">
          <img id="server_icon">
          <div>
            <span id="status"></span>
            <span id="players"></span>
            <div id="playerProgress">
              <div id="playerBar"></div>  
            </div>
          </div>
        </div>
      <script>
        $(document).ready(function(){
          $.getJSON('https://api.mcstatus.io/v2/status/java/floppaland.fun', null, function (data) {
            server_icon = document.getElementById("server_icon");
            status_text = document.getElementById("status");
            players = document.getElementById("players");

            if (data.online) {
              status_text.innerHTML = "Сервер онлайн";
              status_text.style.color = '#05b305';
              server_icon.src = data.icon
              players.innerHTML = `${data.players.online}/${data.players.max}`
              progressbar(data)
            }else{
              status_text.innerHTML = "Сервер оффлайн"
              status_text.style.color = 'tomato';
              status_text.style.textAlign = "center";
            }
          });
          function progressbar(data) {
              var playersPercent = Math.round((data.players.online/data.players.max)*100);
              var bar = document.getElementById("playerBar");
              if (data.players.online == 0) {
                  bar.innerHTML = "";
                } else {
                  bar.innerHTML = playersPercent + "%";
                }
                  bar.style.width = playersPercent + "%";
              }
            })
      </script>
      </div>
    </div>
{% endblock %}